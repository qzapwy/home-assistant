homeassistant:
  name: Home
  latitude: !secret home_latitude
  longitude: !secret home_longitude
  elevation: 20
  unit_system: metric
  time_zone: Europe/London

updater:

discovery:

conversation:

history:

logbook:

sun:

tts:
  platform: google

frontend:

#Frontend layout
group: !include group.yaml

#Extra iFrame tab in the Frontend for router settings
panel_iframe:
  router:
    title: 'Router'
    icon: mdi:access-point-network
    url: 'http://192.168.0.1'

#NMAP device tracking on the local network
device_tracker:
  - platform: nmap_tracker
    hosts: 192.168.0.1/24

#Support for Yeelight lights. Assign the lights a fixed IP address with the router first.
light:
  - platform: yeelight
    transistion: 2000
    devices:
      192.168.0.50:
        name: Bedroom light 1
      192.168.0.51:
        name: Bedroom light 2
      192.168.0.52:
        name: Living room light 1
      192.168.0.53:
        name: Living room light 2
      192.168.0.54:
        name: Living room lamp

scene: !include_dir_merge_list scenes/

automation: !include_dir_merge_list automation/

sensor:
#Weather from Darksky
  - platform: darksky
    api_key: !secret darksky_api
    monitored_conditions:
      - summary
      - precip_type
      - precip_intensity
      - precip_probability
      - temperature
      - apparent_temperature
      - wind_speed
      - wind_bearing
      - cloud_cover
      - hourly_summary
      - daily_summary
#Time and date variables
  - platform: time_date
    display_options:
      - 'time'
      - 'date'

# DHT22 sensor
  - platform: dht
    sensor: DHT22
    name: Living Room
    pin: 4
    monitored_conditions:
      - temperature
      - humidity

#ISS Tracking
  - platform: iss
  
  - platform: template
    sensors:
      alarm_time:
        friendly_name: 'Alarm time'
        value_template: '{{ "%0.02d:%0.02d" | format(states("input_slider.alarmhours") | int, states("input_slider.alarmminutes") | int) }}'
      weather_summary:
        friendly_name: 'Weather Summary'
        value_template: '{{ states("sensor.dark_sky_daily_summary") }} It will be {{ states("sensor.dark_sky_hourly_summary") }} It is currently {{ states("sensor.dark_sky_summary") }} and is {{ states("sensor.dark_sky_temperature") }}°C, but feels like {{ states("sensor.dark_sky_apparent_temperature") }}°C. There is a {{ states("sensor.dark_sky_precip_probability") }}% chance of rain.'
      bedroom_light_scene:
        friendly_name: 'Current Light Scene'
        value_template: '{{states("input_select.bedroom_scene") }}'
      living_room_light_scene:
        friendly_name: 'Current Light Scene'
        value_template: '{{states("input_select.living_room_scene") }}'

input_slider:

#Sunrise alarm clock variables
  alarmhours:
    name: Hour
    icon: mdi:timer
    initial: 7
    min: 0
    max: 23
    step: 1
  alarmminutes:
    name: Minutes
    icon: mdi:timer
    initial: 15
    min: 0
    max: 55
    step: 5

input_boolean:

#Bedroom light automation variables
  bedroom_light_automation:
    name: Automation toggle
    initial: on
    icon: mdi:brightness-auto
  bedroom_sunrise_alarm:
    name: Bedroom sunrise alarm
    initial: on
  bedroom_sunrise_active:
    name: Sunrise active
    initial: off
#Living room light variables
  living_room_light_automation:
    name: Automation toggle
    initial: on
    icon: mdi:brightness-auto

input_select:

  time_of_day:
    name: Time of day
    options:
      - Daylight
      - Afternoon
      - Evening
      - Night
      
#Bedroom light automation variables
  bedroom_manual_scene:
    name: Manual Light Scene
    options:
      - Daylight
      - Afternoon
      - Evening
      - Night
      - Blue
      - Select a scene
    initial: Select a scene
  bedroom_scene:
    name: Bedroom Light Scene
    options:
      - Daylight
      - Afternoon
      - Evening
      - Night
      - Blue
      - Sunrise
      - Off
    initial: Off

#Living room light automation variables
  living_room_manual_scene:
    name: Manual Light Scene
    options:
      - Daylight
      - Afternoon
      - Evening
      - Night
      - Movie
      - Blue
      - Select a scene
    initial: Select a scene
  living_room_scene:
    name: Living Room Light Scene
    options:
      - Daylight
      - Afternoon
      - Evening
      - Night
      - Blue
      - Movie
      - Sunrise
      - Off
    initial: Off

